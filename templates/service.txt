import (
	"context"
	"errors"
	"sync"

	"github.com/go-kit/kit/log"
	"github.com/hashicorp/consul/api"

	"github.com/hathbanger/microsvc-base/pkg/microsvc/models"
)

// Bar - service for bar
func (s service) Bar(
	ctx context.Context,
	req models.BarRequest,
) (models.BarResponse, error) {
	var (
		response models.BarResponse
		err      error
	)

	if req.Str == "" {
		err = errors.New("no string was passed")
		s.logger.Log("err", "bar")
		return response, err
	}

	product := req.Str + ""
	response.Res = product
	s.logger.Log("response", response.Res)

	return response, err
}
